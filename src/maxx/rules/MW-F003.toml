# Rule F003: Limit number of function output arguments to 4
# Reference: https://github.com/mathworks/MATLAB-Coding-Guidelines/blob/main/MATLAB-Coding-Guidelines.md#outputs

[rule]
id = "MW-F003"
name = "function-output-limit"
description = "Function has too many output arguments (limit: 4)"
severity = "warning"
enabled = true

[query]
# Match function definitions with return values
pattern = """
(function_definition .
  ("function")
  (function_output) @returns
  (identifier) @function_name
) @function
"""

[message]
template = "Function '{function_name}' has {count} output arguments (recommended limit: 4)"

[metadata]
reference = "https://github.com/mathworks/MATLAB-Coding-Guidelines/blob/main/MATLAB-Coding-Guidelines.md#outputs"
guideline = "FCNOL"
motivation = "Readability - too many outputs obscure function purpose; Reusability - fewer outputs increase flexibility"
